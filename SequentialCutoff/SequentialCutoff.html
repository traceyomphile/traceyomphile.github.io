<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sequential Cutoff - All Graphs</title>
    <!-- Use Tailwind CSS for modern styling and responsiveness -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Chart.js for creating the chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="p-6 md:p-12">

    <!-- Main Container for the entire page content -->
    <div class="bg-gray-800 rounded-2xl shadow-xl p-6 md:p-8 max-w-4xl mx-auto">
        <h1 class="text-4xl font-extrabold text-white mb-8 text-center">
            Determining Sequential Cutoff
        </h1>

        <!-- Section for Local Machine Dungeon Size Graph -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">
                Increasing Dungeon Size on Local Machine
            </h2>
            <div class="text-lg text-gray-400 mb-6 text-center">
                <p>- Fixed search density to 0.05</p>
                <p>- Fixed the seed to 4</p>
            </div>
            
            <!-- Local Machine Dungeon Size Graph Container -->
            <div class="bg-gray-900 rounded-xl p-4 md:p-6">
                <h3 class="text-2xl font-semibold text-white mb-4 text-center">
                    Increasing tasks per core on local machine
                </h3>
                <div class="w-full h-96">
                    <canvas id="localMachineChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section for Server Dungeon Size Graph -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">
                Increasing Dungeon Size on Server
            </h2>
            <div class="text-lg text-gray-400 mb-6 text-center">
                <p>- Fixed search density to 0.05</p>
                <p>- Fixed the seed to 4</p>
            </div>
            
            <!-- Server Dungeon Size Graph Container -->
            <div class="bg-gray-900 rounded-xl p-4 md:p-6">
                <h3 class="text-2xl font-semibold text-white mb-4 text-center">
                    Increasing tasks per core on Server
                </h3>
                <div class="w-full h-96">
                    <canvas id="serverChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section for Local Machine Search Density Graph -->
        <div class="mb-12">
            <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">
                Increasing Search Density on Local Machine
            </h2>
            <div class="text-lg text-gray-400 mb-6 text-center">
                <p>- Fixed dungeon size to 200</p>
                <p>- Fixed the seed to 4</p>
            </div>
            
            <!-- Local Machine Search Density Graph Container -->
            <div class="bg-gray-900 rounded-xl p-4 md:p-6">
                <h3 class="text-2xl font-semibold text-white mb-4 text-center">
                    Increasing Search Density
                </h3>
                <div class="w-full h-96">
                    <canvas id="searchDensityLocalChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section for Server Search Density Graph -->
        <div>
            <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">
                Increasing Search Density on Server
            </h2>
            <div class="text-lg text-gray-400 mb-6 text-center">
                <p>- Fixed dungeon size to 200</p>
                <p>- Fixed the seed to 4</p>
            </div>
            
            <!-- Server Search Density Graph Container -->
            <div class="bg-gray-900 rounded-xl p-4 md:p-6">
                <h3 class="text-2xl font-semibold text-white mb-4 text-center">
                    Increasing Search Density
                </h3>
                <div class="w-full h-96">
                    <canvas id="searchDensityServerChart"></canvas>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Data for the Local Machine Dungeon Size graph
        const localMachineData = {
            labels: ['1000000', '4000000', '9000000', '16000000', '25000000'],
            datasets: [
                {
                    label: '4 tasks / core',
                    data: [2.15, 2.7, 3.0, 3.2, 3.3],
                    borderColor: '#2D8CFF',
                    backgroundColor: 'rgba(45, 140, 255, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#2D8CFF',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#2D8CFF'
                },
                {
                    label: '6 tasks / core',
                    data: [2.2, 2.8, 3.1, 3.3, 3.5],
                    borderColor: '#FF7F00',
                    backgroundColor: 'rgba(255, 127, 0, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#FF7F00',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#FF7F00'
                },
                {
                    label: '8 tasks / core',
                    data: [2.2, 2.85, 3.15, 3.3, 3.4],
                    borderColor: '#32CD32',
                    backgroundColor: 'rgba(50, 205, 50, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#32CD32',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#32CD32'
                }
            ]
        };

        // Data for the Server Dungeon Size graph
        const serverData = {
            labels: ['1000000', '4000000', '9000000', '16000000', '25000000'],
            datasets: [
                {
                    label: '4 tasks / core',
                    data: [2.5, 4.2, 4.5, 4.7, 5.0],
                    borderColor: '#2D8CFF',
                    backgroundColor: 'rgba(45, 140, 255, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#2D8CFF',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#2D8CFF'
                },
                {
                    label: '6 tasks / core',
                    data: [2.0, 3.5, 3.8, 4.2, 4.2],
                    borderColor: '#FF7F00',
                    backgroundColor: 'rgba(255, 127, 0, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#FF7F00',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#FF7F00'
                },
                {
                    label: '8 tasks / core',
                    data: [2.8, 3.8, 3.7, 4.2, 4.4],
                    borderColor: '#32CD32',
                    backgroundColor: 'rgba(50, 205, 50, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#32CD32',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#32CD32'
                }
            ]
        };

        // Data for the Local Machine Search Density graph
        const searchDensityLocalData = {
            labels: ['16000', '32000', '48000', '64000', '80000'],
            datasets: [
                {
                    label: '4 tasks / core',
                    data: [2.1, 2.5, 2.9, 3.0, 3.1],
                    borderColor: '#2D8CFF',
                    backgroundColor: 'rgba(45, 140, 255, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#2D8CFF',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#2D8CFF'
                },
                {
                    label: '6 tasks / core',
                    data: [2.1, 2.6, 2.95, 3.0, 3.1],
                    borderColor: '#FF7F00',
                    backgroundColor: 'rgba(255, 127, 0, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#FF7F00',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#FF7F00'
                },
                {
                    label: '8 tasks / core',
                    data: [2.2, 2.8, 3.1, 3.1, 3.0],
                    borderColor: '#32CD32',
                    backgroundColor: 'rgba(50, 205, 50, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#32CD32',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#32CD32'
                }
            ]
        };

        // Data for the Server Search Density graph
        const searchDensityServerData = {
            labels: ['16000', '32000', '48000', '64000', '80000'],
            datasets: [
                {
                    label: '4 tasks / core',
                    data: [3.5, 3.2, 3.9, 4.0, 3.9],
                    borderColor: '#2D8CFF',
                    backgroundColor: 'rgba(45, 140, 255, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#2D8CFF',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#2D8CFF'
                },
                {
                    label: '6 tasks / core',
                    data: [3.0, 2.7, 3.3, 3.4, 3.4],
                    borderColor: '#FF7F00',
                    backgroundColor: 'rgba(255, 127, 0, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#FF7F00',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#FF7F00'
                },
                {
                    label: '8 tasks / core',
                    data: [3.7, 3.6, 4.1, 4.2, 4.0],
                    borderColor: '#32CD32',
                    backgroundColor: 'rgba(50, 205, 50, 0.2)',
                    tension: 0.4,
                    fill: false,
                    pointBackgroundColor: '#32CD32',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointHoverBackgroundColor: '#32CD32'
                }
            ]
        };

        // Chart options, shared by all charts for consistency
        const chartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        color: '#A0AEC0',
                        font: {
                            family: 'Inter',
                            size: 14
                        }
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.7)',
                    bodyFont: {
                        family: 'Inter'
                    },
                    titleFont: {
                        family: 'Inter'
                    },
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y.toFixed(2);
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'DUNGEON AREA (ROWS X COLS)' || 'SEARCH DENSITY (NUMSEARCHES)',
                        color: '#A0AEC0',
                        font: {
                            family: 'Inter',
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        color: '#A0AEC0',
                        font: {
                            family: 'Inter'
                        }
                    },
                    grid: {
                        color: 'rgba(255, 255, 255, 0.1)',
                        borderColor: 'rgba(255, 255, 255, 0.2)'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'SPEEDUP (T1 / TP)',
                        color: '#A0AEC0',
                        font: {
                            family: 'Inter',
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    ticks: {
                        color: '#A0AEC0',
                        font: {
                            family: 'Inter'
                        }
                    },
                    grid: {
                        color: 'rgba(255, 255, 255, 0.1)',
                        borderColor: 'rgba(255, 255, 255, 0.2)'
                    }
                }
            },
            animation: {
                duration: 1000,
                easing: 'easeInOutQuart'
            }
        };

        // Function to create a new Chart instance
        function createChart(canvasId, data, options) {
            const ctx = document.getElementById(canvasId);
            if (ctx) {
                new Chart(ctx, { type: 'line', data: data, options: options });
            } else {
                console.error(`Canvas element with ID '${canvasId}' not found.`);
            }
        }

        // Create all four charts
        createChart('localMachineChart', localMachineData, chartOptions);
        createChart('serverChart', serverData, chartOptions);
        createChart('searchDensityLocalChart', searchDensityLocalData, {
            ...chartOptions,
            scales: {
                ...chartOptions.scales,
                x: {
                    ...chartOptions.scales.x,
                    title: { ...chartOptions.scales.x.title, text: 'SEARCH DENSITY (NUMSEARCHES)' }
                }
            }
        });
        createChart('searchDensityServerChart', searchDensityServerData, {
            ...chartOptions,
            scales: {
                ...chartOptions.scales,
                x: {
                    ...chartOptions.scales.x,
                    title: { ...chartOptions.scales.x.title, text: 'SEARCH DENSITY (NUMSEARCHES)' }
                }
            }
        });
    </script>

</body>
</html>
